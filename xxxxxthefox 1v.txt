--==================================================
-- ğŸ¦Š xxxxxthefox | FPS HUB FULL STABLE (VISIBLE ALWAYS)
--==================================================

-- SERVICES
local Players = game:GetService("Players")
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local PlayerGui = player:WaitForChild("PlayerGui")

--==================================================
-- SETTINGS
--==================================================
getgenv().settings = {
	enable_aimbot = true,
	enable_prediction = true,
	enable_protection = true,
	teamCheck = true,
	wallCheck = true,
	predictionFactor = 0.1,
	minWait = 0.00001,
	maxWait = 0.00005,
	detectionPrecision = 0.00001,
	fov = 30,
	drawFov = true,
	third_person_enabled = false,
	super_rotation_enabled = false,
}

--==================================================
-- LOAD LIBRARIES SAFELY
--==================================================
local aimbot, ESP

pcall(function()
	aimbot = loadstring(game:HttpGet("https://raw.githubusercontent.com/xxxxxthefox/My-library/refs/heads/main/10gg"))()
end)

pcall(function()
	ESP = loadstring(game:HttpGet("https://raw.githubusercontent.com/xxxxxthefox/1fox1/refs/heads/main/1z1"))()
	if ESP then
		ESP.Enabled = true
		ESP.ShowBox = true
		ESP.BoxType = "Corner Box Esp"
		ESP.ShowName = true
		ESP.ShowHealth = true
		ESP.ShowTracer = true
		ESP.ShowDistance = true
	end
end)

--==================================================
-- GUI ROOT
--==================================================
local gui = Instance.new("ScreenGui")
gui.Name = "xxxxxthefox"
gui.ResetOnSpawn = false
gui.Parent = PlayerGui

local main = Instance.new("Frame", gui)
main.Size = UDim2.fromOffset(450,450)
main.Position = UDim2.fromScale(0.5,0.5)
main.AnchorPoint = Vector2.new(0.5,0.5)
main.BackgroundColor3 = Color3.fromRGB(18,18,22)
main.BorderSizePixel = 0
main.Visible = true -- Ø¯Ø§Ø¦Ù…Ø© Ø§Ù„Ø¸Ù‡ÙˆØ±
Instance.new("UICorner", main).CornerRadius = UDim.new(0,20)

local stroke = Instance.new("UIStroke", main)
stroke.Color = Color3.fromRGB(90,255,170)
stroke.Thickness = 1
stroke.Transparency = 0.6

--==================================================
-- DRAG SYSTEM
--==================================================
do
	local dragging, dragStart, startPos
	main.InputBegan:Connect(function(i)
		if i.UserInputType == Enum.UserInputType.MouseButton1 or i.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = i.Position
			startPos = main.Position
			i.Changed:Connect(function()
				if i.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)
	UIS.InputChanged:Connect(function(i)
		if dragging and (i.UserInputType == Enum.UserInputType.MouseMovement or i.UserInputType == Enum.UserInputType.Touch) then
			local delta = i.Position - dragStart
			main.Position = UDim2.new(
				startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y
			)
		end
	end)
end

--==================================================
-- HEADER
--==================================================
local header = Instance.new("TextLabel", main)
header.Size = UDim2.new(1,0,0,46)
header.BackgroundColor3 = Color3.fromRGB(25,25,30)
header.Text = "ğŸ¦Š xxxxxthefox | Ø§ÙŠÙ… Ø¨ÙˆØª"
header.TextColor3 = Color3.fromRGB(230,230,230)
header.Font = Enum.Font.GothamBold
header.TextSize = 16
header.BorderSizePixel = 0
Instance.new("UICorner", header).CornerRadius = UDim.new(0,20)

--==================================================
-- SIDEBAR
--==================================================
local sidebar = Instance.new("Frame", main)
sidebar.Position = UDim2.fromOffset(0,46)
sidebar.Size = UDim2.fromOffset(70,404)
sidebar.BackgroundColor3 = Color3.fromRGB(22,22,26)
sidebar.BorderSizePixel = 0
Instance.new("UICorner", sidebar).CornerRadius = UDim.new(0,20)

--==================================================
-- CONTENT HOLDER
--==================================================
local holder = Instance.new("Frame", main)
holder.Position = UDim2.fromOffset(70,46)
holder.Size = UDim2.fromOffset(380,404)
holder.BackgroundTransparency = 1

--==================================================
-- TAB SYSTEM
--==================================================
local tabs = {}
local currentTab

local function createTab()
	local sf = Instance.new("ScrollingFrame", holder)
	sf.Size = UDim2.new(1,0,1,0)
	sf.CanvasSize = UDim2.new(0,0,0,0)
	sf.ScrollBarThickness = 5
	sf.Visible = false
	sf.BackgroundTransparency = 1
	sf.BorderSizePixel = 0
	local layout = Instance.new("UIListLayout", sf)
	layout.Padding = UDim.new(0,8)
	layout:GetPropertyChangedSignal("AbsoluteContentSize"):Connect(function()
		sf.CanvasSize = UDim2.new(0,0,0,layout.AbsoluteContentSize.Y + 12)
	end)
	return sf
end

local function showTab(tab)
	if currentTab then currentTab.Visible = false end
	currentTab = tab
	currentTab.Visible = true
end

--==================================================
-- UI ELEMENTS FUNCTIONS
--==================================================
local function toggle(parent, text, default, callback)
	local btn = Instance.new("TextButton", parent)
	btn.Size = UDim2.new(1,-16,0,36)
	btn.BackgroundColor3 = Color3.fromRGB(35,35,42)
	btn.TextColor3 = Color3.fromRGB(235,235,235)
	btn.Font = Enum.Font.Gotham
	btn.TextSize = 13
	btn.BorderSizePixel = 0
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0,8)
	local state = default
	local function refresh()
		btn.Text = text .. " : " .. (state and "ØªØ´ØºÙŠÙ„" or "Ø¥ÙŠÙ‚Ø§Ù")
		btn.BackgroundColor3 = state and Color3.fromRGB(40,130,90) or Color3.fromRGB(35,35,42)
	end
	refresh()
	btn.MouseButton1Click:Connect(function()
		state = not state
		callback(state)
		refresh()
	end)
end

local function input(parent, text, value, callback)
	local box = Instance.new("TextBox", parent)
	box.Size = UDim2.new(1,-16,0,32)
	box.BackgroundColor3 = Color3.fromRGB(35,35,42)
	box.TextColor3 = Color3.fromRGB(235,235,235)
	box.PlaceholderText = text
	box.Text = tostring(value)
	box.Font = Enum.Font.Gotham
	box.TextSize = 13
	box.BorderSizePixel = 0
	Instance.new("UICorner", box).CornerRadius = UDim.new(0,8)
	box.FocusLost:Connect(function()
		local n = tonumber(box.Text)
		if n then callback(n) end
	end)
end

--==================================================
-- CREATE TABS
--==================================================
local TAB_AIMBOT = createTab()
local TAB_ESP = createTab()
local TAB_MISC = createTab()

-- AIMBOT
toggle(TAB_AIMBOT,"ğŸ¯ ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø£ÙŠÙ…Ø¨ÙˆØª",getgenv().settings.enable_aimbot,function(v) getgenv().settings.enable_aimbot=v end)
toggle(TAB_AIMBOT,"ğŸ”® Ø§Ù„ØªÙ†Ø¨Ø¤",getgenv().settings.enable_prediction,function(v) getgenv().settings.enable_prediction=v end)
toggle(TAB_AIMBOT,"ğŸ‘¥ ÙØ­Øµ Ø§Ù„ÙØ±ÙŠÙ‚",getgenv().settings.teamCheck,function(v) getgenv().settings.teamCheck=v end)
toggle(TAB_AIMBOT,"ğŸ§± ÙØ­Øµ Ø§Ù„Ø¬Ø¯Ø§Ø±",getgenv().settings.wallCheck,function(v) getgenv().settings.wallCheck=v end)
input(TAB_AIMBOT,"ğŸ“ Ø²Ø§ÙˆÙŠØ© FOV",getgenv().settings.fov,function(v) getgenv().settings.fov=v end)
input(TAB_AIMBOT,"ğŸ¯ Ø¯Ù‚Ø© Ø§Ù„ØªØµÙˆÙŠØ¨",getgenv().settings.detectionPrecision,function(v) getgenv().settings.detectionPrecision=v end)

-- ESP
if ESP then
	toggle(TAB_ESP,"ğŸ‘ï¸ ØªÙØ¹ÙŠÙ„ ESP",ESP.Enabled,function(v) ESP.Enabled=v end)
	toggle(TAB_ESP,"ğŸ“¦ Ø§Ù„ØµÙ†Ø§Ø¯ÙŠÙ‚",ESP.ShowBox,function(v) ESP.ShowBox=v end)
	toggle(TAB_ESP,"ğŸ”  Ø§Ù„Ø£Ø³Ù…Ø§Ø¡",ESP.ShowName,function(v) ESP.ShowName=v end)
	toggle(TAB_ESP,"â¤ï¸ Ø§Ù„ØµØ­Ø©",ESP.ShowHealth,function(v) ESP.ShowHealth=v end)
	toggle(TAB_ESP,"ğŸ“ Ø§Ù„Ù…Ø³Ø§ÙØ©",ESP.ShowDistance,function(v) ESP.ShowDistance=v end)
end

-- MISC
toggle(TAB_MISC,"ğŸ“¸ Ù…Ù†Ø¸ÙˆØ± Ø«Ø§Ù„Ø«",getgenv().settings.third_person_enabled,function(v) getgenv().settings.third_person_enabled=v end)
toggle(TAB_MISC,"ğŸ” Ø¯ÙˆØ±Ø§Ù† Ù…Ø¬Ù†ÙˆÙ†",getgenv().settings.super_rotation_enabled,function(v) getgenv().settings.super_rotation_enabled=v end)

--==================================================
-- SIDEBAR BUTTONS
--==================================================
local function sideBtn(icon, y, tab)
	local b = Instance.new("TextButton", sidebar)
	b.Size = UDim2.fromOffset(70,60)
	b.Position = UDim2.fromOffset(0,y)
	b.Text = icon
	b.Font = Enum.Font.GothamBold
	b.TextSize = 22
	b.TextColor3 = Color3.fromRGB(230,230,230)
	b.BackgroundTransparency = 1
	b.MouseButton1Click:Connect(function() showTab(tab) end)
end

sideBtn("ğŸ¯",0,TAB_AIMBOT)
sideBtn("ğŸ‘ï¸",60,TAB_ESP)
sideBtn("âš™ï¸",120,TAB_MISC)
showTab(TAB_AIMBOT)

--==================================================
-- NOTIFICATION
--==================================================
pcall(function()
	game.StarterGui:SetCore("SendNotification",{
		Title="xxxxxthefox",
		Text="",
		Duration=5
	})
end)
